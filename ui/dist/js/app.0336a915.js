(function(t){function o(o){for(var n,r,s=o[0],c=o[1],u=o[2],h=0,d=[];h<s.length;h++)r=s[h],i[r]&&d.push(i[r][0]),i[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(o);while(d.length)d.shift()();return a.push.apply(a,u||[]),e()}function e(){for(var t,o=0;o<a.length;o++){for(var e=a[o],n=!0,s=1;s<e.length;s++){var c=e[s];0!==i[c]&&(n=!1)}n&&(a.splice(o--,1),t=r(r.s=e[0]))}return t}var n={},i={app:0},a=[];function r(o){if(n[o])return n[o].exports;var e=n[o]={i:o,l:!1,exports:{}};return t[o].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=t,r.c=n,r.d=function(t,o,e){r.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:e})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,o){if(1&o&&(t=r(t)),8&o)return t;if(4&o&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var n in t)r.d(e,n,function(o){return t[o]}.bind(null,n));return e},r.n=function(t){var o=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(o,"a",o),o},r.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=o,s=s.slice();for(var u=0;u<s.length;u++)o(s[u]);var l=c;a.push([0,"chunk-vendors"]),e()})({0:function(t,o,e){t.exports=e("56d7")},"034f":function(t,o,e){"use strict";var n=e("64a9"),i=e.n(n);i.a},"14aa":function(t,o,e){},"56d7":function(t,o,e){"use strict";e.r(o);var n=e("e814"),i=e.n(n),a=(e("cadf"),e("551c"),e("f751"),e("097d"),e("2b0e")),r=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"app"}},[e("photo-taker")],1)},s=[],c=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("section",{staticClass:"hero is-danger is-fullheight has-text-centered",attrs:{id:"main"}},[t.connected?t._e():e("p",[t._v("Not connected")]),e("div",{staticClass:"hero-body"},[e("div",{staticClass:"container "},[t.showButton?e("button",{staticClass:"button is-primary is-large",on:{click:function(o){t.countdownStart()}}},[t._v("Take photo")]):t._e(),e("transition",{attrs:{"enter-active-class":"animated heartBeat",mode:"out-in"}},[t.showCountdown?e("h1",{key:t.countdown,staticClass:"title"},[t._v(t._s(t.countdown))]):t._e(),t.showSmile?e("h1",{staticClass:"title"},[t._v("Say cheese !")]):t._e()]),e("transition",{attrs:{"enter-active-class":"animated jackInTheBox","leave-active-class":"animated fadeOutRightBig"}},[e("figure",{directives:[{name:"show",rawName:"v-show",value:t.fileLoaded,expression:"fileLoaded"}]},[e("img",{attrs:{src:t.fileName},on:{load:function(o){t.showPhoto()}}})])]),t.showPicture?e("button",{staticClass:"button is-medium",on:{click:function(o){t.init()}}},[t._v("New photo")]):t._e()],1)])])},u=[],l={mqttUrl:"ws://".concat(document.domain,":1883"),mqttTopicTakePhoto:"photomaton/take",mqttTopicPhotoTaken:"photomaton/newPhoto"},h={name:"photo-taker",data:function(){return{countdown:0,fileName:"",fileLoaded:!1,showButton:!0,showCountdown:!1,showPicture:!1,showSmile:!1}},mounted:function(){this.$mqtt.subscribe("#",{},function(t,o){console.log(t,o)}),this.$mqtt.subscribe(l.mqttTopicPhotoTaken,{},function(t,o){console.log(t,o),null!=o&&o.length>0&&null!=o[0]&&(o[0].topic,l.mqttTopicPhotoTaken)})},computed:{connected:function(){return this.$mqtt.connected}},methods:{init:function(){this.showPicture=!1,this.showButton=!0,this.fileLoaded=!1,this.fileName=""},countdownStart:function(){this.countdown=3,this.showButton=!1,this.showCountdown=!0,this.countdownUpdate()},countdownUpdate:function(){var t=this;setTimeout(function(){t.countdown+=-1,0==t.countdown?(t.showCountdown=!1,t.showSmile=!0,t.takePhoto()):t.countdownUpdate()},1e3)},takePhoto:function(){var t=this;this.$mqtt.publish(l.mqttTopicTakePhoto,"go"),this.$mqtt.connected||setTimeout(function(){return t.loadPhoto("sample.jpg")},1e3)},loadPhoto:function(t){this.showSmile=!1,this.showPicture=!0,this.fileLoaded=!1,this.fileName=t},showPhoto:function(){this.fileLoaded=!0}}},d=h,f=(e("f956"),e("2877")),p=Object(f["a"])(d,c,u,!1,null,"5b5747b9",null),m=p.exports,w={name:"app",components:{PhotoTaker:m}},v=w,b=(e("034f"),Object(f["a"])(v,r,s,!1,null,null,null)),g=b.exports,P=e("daa7"),_=e.n(P);a["a"].use(_.a,l.mqttUrl,{clientId:"WebClient-"+i()(1e5*Math.random())}),a["a"].config.productionTip=!1,new a["a"]({render:function(t){return t(g)}}).$mount("#app")},"64a9":function(t,o,e){},f956:function(t,o,e){"use strict";var n=e("14aa"),i=e.n(n);i.a}});
//# sourceMappingURL=app.0336a915.js.map